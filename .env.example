# ===========================================
# HumanitZ Discord Bot — Configuration Template
# Copy this file to .env and fill in your values
# ===========================================

# --- Discord Settings (Required) ---

# Discord Bot Token (get from Discord Developer Portal → Your App → Bot → Token)
DISCORD_TOKEN=

# Channel ID for the server status embed (right-click channel in Discord → Copy ID)
STATUS_CHANNEL_ID=

# Status embed message ID (optional; leave blank to auto-load from data/status_state.json or create a new message)
# If set, the bot will always edit this specific message. Takes priority over status_state.json.
STATUS_MESSAGE_ID=

# Channel ID for chat bridge (bidirectional game ↔ Discord message relay)
CHAT_CHANNEL_ID=

# --- RCON Connection (Required) ---

# RCON server address (usually 127.0.0.1 for localhost)
RCON_HOST=127.0.0.1

# RCON port (must match RConPort in GameServerSettings.ini)
RCON_PORT=8888

# RCON password (must match RCONPass in GameServerSettings.ini)
RCON_PASSWORD=

# --- Update Intervals (Optional, defaults shown) ---

# Server status embed refresh interval in seconds (recommended: 30–60; lower = more RCON load)
STATUS_UPDATE_INTERVAL=30

# Chat bridge polling interval in seconds (recommended: 3–10; affects chat message delay)
CHAT_POLL_INTERVAL=5

# Player count history chart retention in hours
CHART_HISTORY_HOURS=24

# --- Server Settings (Optional) ---

# Maximum player count (must match MaxPlayers in GameServerSettings.ini)
MAX_PLAYERS=50

# --- Display Options (Optional) ---

# Show host system stats (CPU, memory, disk, network, uptime) in the status embed
# Set to false if the bot runs on a different machine than the game server
SHOW_SYSTEM_STATS=true

# Show server connection info (IP:Port) in the status embed
SHOW_CONNECT_INFO=false

# Public server address for players to direct connect (format: IP:Port)
SERVER_CONNECT_INFO=

# Show player death count in the status embed
SHOW_DEATH_COUNT=true

# Time window (in hours) for the death count statistic (default: 24)
DEATH_COUNT_HOURS=24

# Date/time format for the "Last Update" footer (Python strftime syntax)
# Examples: %Y/%m/%d %H:%M:%S → 2026/02/13 21:31:50
#           %Y-%m-%d %H:%M:%S → 2026-02-13 21:31:50
#           %m/%d/%Y %H:%M:%S → 02/13/2026 21:31:50
DATE_FORMAT=%Y/%m/%d %H:%M:%S

# --- Database (Optional) ---

# SQLite data retention in days (chat logs, player sessions, player count history)
# Records older than this are automatically pruned (default: 30 days)
DB_RETENTION_DAYS=30

# --- Locale (Optional) ---

# Display language (en = English / zh-TW = Traditional Chinese)
# Affects status embed, chat bridge messages, chart labels, etc.
LOCALE=en

# --- Logging (Optional) ---

# Log level (DEBUG / INFO / WARNING / ERROR)
# DEBUG prints detailed RCON traffic and update cycles — useful for troubleshooting
LOG_LEVEL=INFO

# Log file retention in days (stored in logs/ directory, rotated daily)
LOG_RETENTION_DAYS=7

# --- Server File Paths (Optional) ---

# Path to PlayerConnectedLog.txt (used to calculate player online duration)
# Adjust this to match your HumanitZ server installation path
PLAYER_LOG_PATH=PlayerConnectedLog.txt

# --- Save File Parsing & Game Commands (Optional) ---

# Enable in-game commands (!coords, !stats, !top, !server, !help)
# Requires uesave CLI to be installed (https://github.com/trumank/uesave-rs)
# Set to false to disable this feature entirely
ENABLE_GAME_COMMANDS=true

# Path to the main save file (Save_DedicatedSaveMP.sav)
# Leave blank to auto-detect from default LGSM / HumanitZ server paths
# LGSM example: /home/hzserver/serverfiles/HumanitZServer/Saved/SaveGames/SaveList/Default/Save_DedicatedSaveMP.sav
SAVE_FILE_PATH=

# Path for the parsed JSON output (temporary file, ~280MB)
SAVE_JSON_PATH=/tmp/main_save.json

# Automatic save parse interval in seconds (0 = disabled, only parse on command)
# Recommended: 300 (5 minutes) or higher to minimize disk I/O
SAVE_PARSE_INTERVAL=300

# Minimum cooldown between on-demand save parses triggered by commands (seconds)
# Prevents abuse from rapid command spamming
SAVE_PARSE_COOLDOWN=60
